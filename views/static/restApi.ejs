<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="description" content="REST documentation for bStats.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
    <title>bStats - REST API</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/main.css" />
</head>
<body>

<% include ../templates/navigation.ejs %>
<main class="pb-24">
    <section class="doc-hero">
        <div class="doc-container py-16 sm:py-20">
            <div class="max-w-3xl space-y-4">
                <span class="badge bg-brand-100 text-brand-700">API</span>
                <h1 class="font-display text-4xl font-semibold tracking-tight text-slate-900 sm:text-5xl">REST API</h1>
                <p class="text-base leading-relaxed text-slate-600">
                    Use the bStats REST API to embed plugin metrics in your site or tooling. All endpoints are read-only and return JSON.
                </p>
            </div>
        </div>
    </section>

    <section class="doc-container mt-12 space-y-12">
        <article class="doc-card space-y-4">
            <h2 class="doc-card-title">Getting started</h2>
            <p class="text-sm leading-relaxed text-slate-600">
                Requests are simple <code class="font-mono text-slate-700">GET</code> calls. No authentication is required for public data.
            </p>
            <div class="doc-callout doc-callout-note">
                These examples assume the API is reachable at <code class="font-mono text-slate-700">https://bstats.org</code>.
            </div>
        </article>

        <article class="doc-card space-y-4">
            <h3 class="text-sm font-semibold uppercase tracking-[0.2em] text-slate-400">List plugins</h3>
            <pre class="doc-code"><code class="language-http">GET /api/v1/plugins</code></pre>
            <p class="text-sm text-slate-600">Returns all plugins registered on bStats.</p>
            <pre class="doc-code"><code class="language-json">[
  {
    "id": 1337,
    "name": "ExamplePlugin",
    "owner": { "id": 42, "name": "ExampleUser" },
    "software": { "id": 1, "name": "Bukkit / Spigot", "url": "bukkit" },
    "isGlobal": false
  },
  ...
]</code></pre>
        </article>

        <article class="doc-card space-y-4">
            <h3 class="text-sm font-semibold uppercase tracking-[0.2em] text-slate-400">Plugin details</h3>
            <pre class="doc-code"><code class="language-http">GET /api/v1/plugins/{pluginId}</code></pre>
            <p class="text-sm text-slate-600">Returns metadata plus chart definitions for a specific plugin.</p>
            <pre class="doc-code"><code class="language-json">{
  "id": 1337,
  "name": "ExamplePlugin",
  "owner": { "id": 42, "name": "ExampleUser" },
  "charts": {
    "players": {
      "uid": 1234,
      "type": "single_linechart",
      "position": 0,
      "title": "Players",
      "isDefault": true,
      "data": {
        "lineName": "Players",
        "filter": { "enabled": false, "maxValue": null, "minValue": null }
      }
    }
  }
}</code></pre>
        </article>

        <article class="doc-card space-y-4">
            <h3 class="text-sm font-semibold uppercase tracking-[0.2em] text-slate-400">Charts for a plugin</h3>
            <pre class="doc-code"><code class="language-http">GET /api/v1/plugins/{pluginId}/charts</code></pre>
            <p class="text-sm text-slate-600">Returns the chart registry for a plugin.</p>
            <pre class="doc-code"><code class="language-json">{
  "players": {
    "uid": 1234,
    "type": "single_linechart",
    "position": 0,
    "title": "Players",
    "isDefault": true,
    "data": {
      "lineName": "Players",
      "filter": { "enabled": false, "maxValue": null, "minValue": null }
    }
  }
}</code></pre>
        </article>

        <article class="doc-card space-y-4">
            <h3 class="text-sm font-semibold uppercase tracking-[0.2em] text-slate-400">Chart metadata</h3>
            <pre class="doc-code"><code class="language-http">GET /api/v1/plugins/{pluginId}/charts/{chartId}</code></pre>
            <pre class="doc-code"><code class="language-json">{
  "uid": 1234,
  "type": "single_linechart",
  "position": 0,
  "title": "Players",
  "isDefault": true,
  "data": {
    "lineName": "Players",
    "filter": { "enabled": false, "maxValue": null, "minValue": null }
  }
}</code></pre>
        </article>

        <article class="doc-card space-y-4">
            <h3 class="text-sm font-semibold uppercase tracking-[0.2em] text-slate-400">Chart data</h3>
            <pre class="doc-code"><code class="language-http">GET /api/v1/plugins/{pluginId}/charts/{chartId}/data</code></pre>
            <p class="text-sm text-slate-600">Returns raw chart data. For line charts each entry is <code class="font-mono text-slate-700">[timestamp, value]</code>.</p>
            <pre class="doc-code"><code class="language-json">[
  [1479799800000, 122],
  [1479801600000, 121],
  [1479803400000, 124],
  [1479805200000, 134]
]</code></pre>
            <div class="doc-callout doc-callout-note">
                Append <code class="font-mono text-slate-700">?maxElements={amount}</code> to limit the number of entries (line charts only).
            </div>
        </article>

        <article class="doc-card space-y-4">
            <h3 class="text-sm font-semibold uppercase tracking-[0.2em] text-slate-400">Supported software</h3>
            <pre class="doc-code"><code class="language-http">GET /api/v1/software</code></pre>
            <pre class="doc-code"><code class="language-json">[
  {
    "id": 1,
    "name": "Bukkit / Spigot",
    "url": "bukkit",
    "globalPlugin": { "id": 1, "name": "_bukkit_" }
  },
  ...
]</code></pre>
        </article>
    </section>
</main>

<% include ../templates/footer.ejs %>
<% include ../templates/globalScripts.ejs %>

</body>
</html>
