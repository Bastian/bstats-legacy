<div class="depending_box single_linechart hidden rounded-2xl border border-white/10 bg-white/5 p-6">
    <form id="single_linechart_form" class="space-y-6" onsubmit="event.preventDefault(); createSingleLineChart();">
        <div class="grid gap-4 sm:grid-cols-2">
            <div>
                <label for="chart_title_single_linechart" class="block text-sm font-medium text-slate-200">Chart title</label>
                <input id="chart_title_single_linechart" name="chartTitle" type="text" maxlength="32" pattern="^[-_a-zA-Z0-9]+(\s[-_a-zA-Z0-9]+)*$" required class="input-shell focus-accent mt-2 w-full" placeholder="Servers" />
            </div>
            <div>
                <label for="chart_id_single_linechart" class="block text-sm font-medium text-slate-200">Chart ID</label>
                <input id="chart_id_single_linechart" name="chartId" type="text" maxlength="32" pattern="^[-_a-zA-Z0-9]+([-_a-zA-Z0-9]+)*$" required class="input-shell focus-accent mt-2 w-full" placeholder="servers" />
            </div>
        </div>
        <div>
            <label for="line_name_single_linechart" class="block text-sm font-medium text-slate-200">Line name</label>
            <input id="line_name_single_linechart" name="lineName" type="text" maxlength="50" pattern="^[-_a-zA-Z0-9]+(\s[-_a-zA-Z0-9]+)*$" required class="input-shell focus-accent mt-2 w-full" placeholder="Servers" />
        </div>
        <div class="rounded-xl border border-white/10 bg-slate-900/60 p-4">
            <label class="inline-flex items-center gap-3 text-sm font-semibold text-white">
                <input class="checkboxFilter h-4 w-4 rounded border-white/30 bg-slate-900 text-[var(--accent-color)] focus:ring-2 focus:ring-[var(--accent-color)]" type="checkbox" name="filterEnabled">
                Filter values
            </label>
            <div class="filterOptions mt-4 grid gap-4 border-t border-white/10 pt-4 hidden sm:grid-cols-2">
                <div>
                    <label for="single_linechart_min_value" class="block text-xs font-semibold uppercase tracking-[0.3em] text-slate-400">Min value</label>
                    <input id="single_linechart_min_value" name="minValue" type="number" min="0" class="input-shell focus-accent mt-2 w-full" placeholder="Leave empty" />
                </div>
                <div>
                    <label for="single_linechart_max_value" class="block text-xs font-semibold uppercase tracking-[0.3em] text-slate-400">Max value</label>
                    <input id="single_linechart_max_value" name="maxValue" type="number" min="0" class="input-shell focus-accent mt-2 w-full" placeholder="Leave empty" />
                </div>
            </div>
        </div>
        <button type="submit" class="accent-bg w-full rounded-full px-6 py-3 text-sm font-semibold shadow-lg shadow-slate-950/40 transition hover:shadow-xl">Create chart</button>
    </form>
</div>

<script>
    $('#chart_title_single_linechart').on('input', function () {
        $('#chart_id_single_linechart').val($(this).val().toLowerCase().replace(/[^-_a-z0-9]+/g, '_'));
        if (!$('#line_name_single_linechart').val()) {
            $('#line_name_single_linechart').val($(this).val());
        }
    });

    window.createSingleLineChart = function() {
        var form = $('#single_linechart_form');
        addChart({
            chartTitle: $('#chart_title_single_linechart').val(),
            chartId: $('#chart_id_single_linechart').val(),
            lineName: $('#line_name_single_linechart').val(),
            filterEnabled: form.find('input[name="filterEnabled"]').is(':checked'),
            minValue: $('#single_linechart_min_value').val(),
            maxValue: $('#single_linechart_max_value').val(),
            chart_type: 'single_linechart'
        });
    };
</script>
