<div class="mt-6 rounded-2xl border border-rose-500/30 bg-rose-500/5 p-6">
    <label for="confirm_plugin_name" class="block text-sm font-semibold text-rose-100">Type the plugin name to confirm deletion</label>
    <input id="confirm_plugin_name" type="text" class="input-shell focus-accent mt-2 w-full border-rose-400/60 bg-rose-500/10 text-rose-100 placeholder:text-rose-200/60" placeholder="<%= plugin.name %>" />
    <button type="button" id="delete_button" class="mt-4 w-full rounded-full border border-rose-500/60 bg-rose-600/20 px-6 py-3 text-sm font-semibold text-rose-100 opacity-60 transition hover:bg-rose-600/30 disabled:cursor-not-allowed" disabled>
        Delete plugin
    </button>
</div>

<script>
    (function() {
        var input = document.getElementById('confirm_plugin_name');
        var deleteButton = document.getElementById('delete_button');
        if (!input || !deleteButton) return;
        input.addEventListener('input', function() {
            var matches = this.value === '<%= plugin.name %>';
            deleteButton.disabled = !matches;
            deleteButton.style.opacity = matches ? '1' : '0.6';
        });
        deleteButton.addEventListener('click', function() {
            if (!deleteButton.disabled) {
                window.deletePlugin();
            }
        });
    })();
</script>
