<% if (charts !== undefined && Object.keys(charts).length !== 0) { %>
<div class="space-y-3">
    <h2 class="doc-card-title">Existing charts</h2>
    <p class="text-sm text-slate-600">Drag and drop to reorder. Delete charts you no longer need.</p>
</div>
<ul id="chartsList" class="space-y-3">
    <%
    var chartIdsSorted = Object.keys(charts).sort(function(a,b){return charts[a].position-charts[b].position});
    for (var i = 0; i < chartIdsSorted.length; i++) {
        var chartId = chartIdsSorted[i];
        var chart = charts[chartId];
    %>
    <li id="listElement_<%= chartId %>" class="flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-slate-50 px-4 py-3">
        <div class="flex items-center gap-3 min-w-0">
            <span class="sortable-handle cursor-grab text-slate-400">☰</span>
            <div class="min-w-0">
                <a href="/plugin/<%= softwareUrl %>/<%= plugin.name %>/<%= plugin.id %>/#<%= chartId %>" class="block truncate font-semibold text-slate-900 hover:text-brand-600">
                    <%= chart.title %>
                </a>
                <p class="text-xs uppercase tracking-[0.18em] text-slate-400">ID: <%= chartId %></p>
            </div>
        </div>
        <div class="flex items-center gap-3">
            <a href="/plugin/<%= softwareUrl %>/<%= plugin.name %>/<%= plugin.id %>/#<%= chartId %>" class="text-sm font-semibold text-brand-600 hover:text-brand-700">View</a>
            <% if (!chart.isDefault) { %>
            <button type="button" class="text-sm font-semibold text-rose-600 hover:text-rose-700" data-delete-chart="<%= chartId %>">Delete</button>
            <% } %>
        </div>
    </li>
    <% } %>
</ul>
<% } else { %>
<p class="text-sm text-slate-500">You haven’t added any charts yet. Create one to see it listed here.</p>
<% } %>
